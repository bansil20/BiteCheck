-- phpMyAdmin SQL Dump
-- version 5.2.1
-- https://www.phpmyadmin.net/
--
-- Host: 127.0.0.1
-- Generation Time: Aug 24, 2025 at 02:22 PM
-- Server version: 10.4.32-MariaDB
-- PHP Version: 8.2.12

SET SQL_MODE = "NO_AUTO_VALUE_ON_ZERO";
START TRANSACTION;
SET time_zone = "+00:00";


/*!40101 SET @OLD_CHARACTER_SET_CLIENT=@@CHARACTER_SET_CLIENT */;
/*!40101 SET @OLD_CHARACTER_SET_RESULTS=@@CHARACTER_SET_RESULTS */;
/*!40101 SET @OLD_COLLATION_CONNECTION=@@COLLATION_CONNECTION */;
/*!40101 SET NAMES utf8mb4 */;

--
-- Database: `bitecheck`
--

-- --------------------------------------------------------

--
-- Table structure for table `alembic_version`
--

CREATE TABLE `alembic_version` (
  `version_num` varchar(32) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Dumping data for table `alembic_version`
--

INSERT INTO `alembic_version` (`version_num`) VALUES
('4cb4b4ab022a');

-- --------------------------------------------------------

--
-- Table structure for table `attendance`
--

CREATE TABLE `attendance` (
  `attid` int(11) NOT NULL,
  `studid` int(11) NOT NULL,
  `timestamp` datetime DEFAULT NULL,
  `status` varchar(10) NOT NULL,
  `food_id` int(11) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

-- --------------------------------------------------------

--
-- Table structure for table `feedback`
--

CREATE TABLE `feedback` (
  `fbid` int(11) NOT NULL,
  `studid` int(11) NOT NULL,
  `foodid` int(11) NOT NULL,
  `rating` int(11) NOT NULL,
  `comment` text NOT NULL,
  `created_at` datetime DEFAULT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

-- --------------------------------------------------------

--
-- Table structure for table `food`
--

CREATE TABLE `food` (
  `foodid` int(11) NOT NULL,
  `foodname` varchar(50) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

-- --------------------------------------------------------

--
-- Table structure for table `student`
--

CREATE TABLE `student` (
  `studid` int(11) NOT NULL,
  `studname` varchar(50) NOT NULL,
  `studpnr` int(11) NOT NULL,
  `studphone` int(11) NOT NULL,
  `studcourse` varchar(50) NOT NULL,
  `studemail` varchar(50) NOT NULL,
  `studremark` varchar(50) NOT NULL,
  `studhostelroom` varchar(50) NOT NULL,
  `studface` longtext CHARACTER SET utf8mb4 COLLATE utf8mb4_bin DEFAULT NULL CHECK (json_valid(`studface`))
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Dumping data for table `student`
--

INSERT INTO `student` (`studid`, `studname`, `studpnr`, `studphone`, `studcourse`, `studemail`, `studremark`, `studhostelroom`, `studface`) VALUES
(1, 'bansil', 123, 1234567890, 'MCA', 'useapp0002@gmail.com', 'ads', 'qsd', '\"[-1.0813478231430054, -0.8436758518218994, -0.09132927656173706, 0.577645480632782, 1.6790180206298828, -0.17090681195259094, 0.6703579425811768, 0.8732216954231262, 0.9018931984901428, 0.8980440497398376, 2.122760057449341, -1.878556251525879, 0.5752871036529541, -1.8033744096755981, -1.0202608108520508, -0.5827201008796692, -0.11645142734050751, -0.6300251483917236, -0.8763875365257263, -0.6889405846595764, 0.05427391827106476, 0.4148203730583191, 0.5510132312774658, 0.46353772282600403, -0.01216881349682808, -0.4068213999271393, 0.6181989908218384, 0.08045605570077896, -0.8792543411254883, -0.6768350601196289, -0.5822542905807495, -0.7063763737678528, -0.39471927285194397, -0.8451966047286987, 1.1295337677001953, 1.215234637260437, 0.0805877149105072, -1.4222419261932373, -1.1583733558654785, -0.5344005823135376, -0.1379689872264862, -0.7584284543991089, 0.45190730690956116, 1.6380038261413574, 1.2803518772125244, -0.9767271876335144, 0.21460232138633728, 0.8001021146774292, 0.3921152353286743, -1.211076021194458, -0.988859236240387, 1.1026360988616943, -2.3788022994995117, 0.6058030724525452, -2.1559877395629883, 0.44560590386390686, 0.4602659046649933, -0.886505126953125, -1.4648815393447876, -1.1586980819702148, -0.24831169843673706, 0.8671049475669861, 0.30741429328918457, -0.33466243743896484, -0.14418280124664307, 2.1973674297332764, -0.4607487916946411, 1.4408491849899292, -0.7076047658920288, -0.24024932086467743, -0.1568155437707901, -0.24104440212249756, -0.025902826339006424, -0.682503879070282, 0.5042402744293213, -0.07342678308486938, -0.04664616286754608, 0.8457110524177551, -1.3375825881958008, 1.120343804359436, -0.40324872732162476, 0.3340047299861908, -1.0438286066055298, -0.28603631258010864, 0.5322806239128113, -0.8758298754692078, -1.136741042137146, -0.4539263844490051, 0.7202516794204712, -0.00873607024550438, 0.9215322136878967, 0.5832162499427795, 0.9162837266921997, 1.1610586643218994, -0.5444724559783936, 1.6435449123382568, -0.5502198934555054, 0.34301164746284485, -1.6825132369995117, -0.006241234950721264, 0.5364680886268616, -1.1174414157867432, 0.772310733795166, -1.322176218032837, -0.045215945690870285, 1.365099549293518, 0.4255266785621643, -0.9503673315048218, 0.6835245490074158, 0.42696502804756165, -0.20270058512687683, 0.06844048947095871, 1.476036548614502, 0.02290351130068302, 0.4100164771080017, 1.0758227109909058, -0.3425251543521881, -1.2887362241744995, -0.14099252223968506, 0.8182965517044067, -0.6081900000572205, -0.2482331097126007, 0.11524370312690735, 0.8760976195335388, 1.5880037546157837, -0.9054398536682129, 1.0701292753219604, 0.1752651482820511]\"'),
(2, 'qd', 4, 545, 'MBA', 'sda@gmail.com', 'asd', 'fth', '\"[-0.8755770921707153, -0.5203825235366821, 0.02180202677845955, 0.05606921762228012, 0.799355149269104, -0.5699619054794312, 0.6777197122573853, 0.14893172681331635, 0.426575243473053, 0.4034659266471863, 2.6914446353912354, -1.6815212965011597, 0.3135716915130615, -2.1687450408935547, -0.8020812273025513, -0.20262941718101501, 0.15159404277801514, 0.07912205159664154, -0.9046857953071594, -1.0324455499649048, -0.1554664820432663, 0.13958223164081573, 0.23792487382888794, 0.5140394568443298, 0.23538212478160858, -0.24411797523498535, 0.35528820753097534, 0.4150122404098511, -0.28315436840057373, -0.13070450723171234, 0.08696988970041275, -0.481935977935791, 0.44656121730804443, -0.2232198417186737, 1.1784112453460693, 1.3672707080841064, 0.33542364835739136, -1.4352279901504517, -1.1604588031768799, 0.26524555683135986, 0.28129178285598755, -0.32769355177879333, 0.9397797584533691, 1.109657645225525, 1.413583755493164, -0.8519245386123657, 0.21772202849388123, 1.139960765838623, 0.14012771844863892, -0.9700473546981812, -0.2590172290802002, 0.0925416499376297, -1.893723964691162, 1.6129704713821411, -2.0148606300354004, 1.0483630895614624, -0.6045799255371094, -0.9656035304069519, -1.6048688888549805, -0.841799795627594, 0.36401355266571045, 0.3607284426689148, 0.1408078968524933, -0.2608279585838318, 0.2671198844909668, 1.8975905179977417, -1.0078290700912476, 1.857704758644104, -0.35846376419067383, -0.6372991800308228, -0.06632047891616821, 0.07889322936534882, 0.33817192912101746, -0.9659650325775146, 0.5762431025505066, -0.15773893892765045, 0.8163832426071167, 0.8772119283676147, -0.6916195154190063, 1.0166139602661133, -0.931485652923584, 0.5619617700576782, -1.2818357944488525, -0.7198092937469482, 0.7593421936035156, -0.7234081625938416, -0.7884496450424194, -0.41018158197402954, 1.2843914031982422, 0.40703141689300537, 0.1574762463569641, 1.3089503049850464, 1.4768306016921997, 1.3399540185928345, -0.05501098185777664, 1.1487151384353638, -0.576095461845398, 0.2609526813030243, -1.5880985260009766, 0.030221251770853996, 1.4797658920288086, -0.3802943527698517, 1.4785710573196411, -1.0897165536880493, -0.36752453446388245, 1.774402141571045, -0.0679849311709404, -0.801856279373169, -0.14875981211662292, -0.35431143641471863, 0.03856869041919708, 0.4342581629753113, 0.8719743490219116, -0.5173609852790833, 0.3558492362499237, 1.354912281036377, -0.09973085671663284, -1.00818932056427, -0.013512253761291504, 0.9493522047996521, -1.0879383087158203, 0.06979185342788696, 1.2237800359725952, 0.5862737894058228, 1.2143068313598633, -0.08235485851764679, 0.7309244871139526, 0.8227437138557434]\"');

-- --------------------------------------------------------

--
-- Table structure for table `timetable`
--

CREATE TABLE `timetable` (
  `ttid` int(11) NOT NULL,
  `foodid` int(11) NOT NULL,
  `day` enum('Monday','Tuesday','Wednesday','Thursday','Friday','Saturday','Sunday') NOT NULL,
  `mealtype` enum('Breakfast','Lunch','Dinner') NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

-- --------------------------------------------------------

--
-- Table structure for table `user`
--

CREATE TABLE `user` (
  `userid` int(11) NOT NULL,
  `username` varchar(50) NOT NULL,
  `password` varchar(50) NOT NULL,
  `email` varchar(50) NOT NULL
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_general_ci;

--
-- Indexes for dumped tables
--

--
-- Indexes for table `alembic_version`
--
ALTER TABLE `alembic_version`
  ADD PRIMARY KEY (`version_num`);

--
-- Indexes for table `attendance`
--
ALTER TABLE `attendance`
  ADD PRIMARY KEY (`attid`),
  ADD KEY `studid` (`studid`),
  ADD KEY `food_id` (`food_id`);

--
-- Indexes for table `feedback`
--
ALTER TABLE `feedback`
  ADD PRIMARY KEY (`fbid`),
  ADD KEY `studid` (`studid`),
  ADD KEY `foodid` (`foodid`);

--
-- Indexes for table `food`
--
ALTER TABLE `food`
  ADD PRIMARY KEY (`foodid`);

--
-- Indexes for table `student`
--
ALTER TABLE `student`
  ADD PRIMARY KEY (`studid`),
  ADD UNIQUE KEY `studpnr` (`studpnr`),
  ADD UNIQUE KEY `uq_student_studpnr` (`studpnr`);

--
-- Indexes for table `timetable`
--
ALTER TABLE `timetable`
  ADD PRIMARY KEY (`ttid`),
  ADD KEY `foodid` (`foodid`);

--
-- Indexes for table `user`
--
ALTER TABLE `user`
  ADD PRIMARY KEY (`userid`),
  ADD UNIQUE KEY `email` (`email`);

--
-- AUTO_INCREMENT for dumped tables
--

--
-- AUTO_INCREMENT for table `attendance`
--
ALTER TABLE `attendance`
  MODIFY `attid` int(11) NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT for table `feedback`
--
ALTER TABLE `feedback`
  MODIFY `fbid` int(11) NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT for table `food`
--
ALTER TABLE `food`
  MODIFY `foodid` int(11) NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT for table `student`
--
ALTER TABLE `student`
  MODIFY `studid` int(11) NOT NULL AUTO_INCREMENT, AUTO_INCREMENT=3;

--
-- AUTO_INCREMENT for table `timetable`
--
ALTER TABLE `timetable`
  MODIFY `ttid` int(11) NOT NULL AUTO_INCREMENT;

--
-- AUTO_INCREMENT for table `user`
--
ALTER TABLE `user`
  MODIFY `userid` int(11) NOT NULL AUTO_INCREMENT;

--
-- Constraints for dumped tables
--

--
-- Constraints for table `attendance`
--
ALTER TABLE `attendance`
  ADD CONSTRAINT `attendance_ibfk_1` FOREIGN KEY (`studid`) REFERENCES `student` (`studid`),
  ADD CONSTRAINT `attendance_ibfk_2` FOREIGN KEY (`food_id`) REFERENCES `food` (`foodid`);

--
-- Constraints for table `feedback`
--
ALTER TABLE `feedback`
  ADD CONSTRAINT `feedback_ibfk_1` FOREIGN KEY (`studid`) REFERENCES `student` (`studid`),
  ADD CONSTRAINT `feedback_ibfk_2` FOREIGN KEY (`foodid`) REFERENCES `food` (`foodid`);

--
-- Constraints for table `timetable`
--
ALTER TABLE `timetable`
  ADD CONSTRAINT `timetable_ibfk_1` FOREIGN KEY (`foodid`) REFERENCES `food` (`foodid`);
COMMIT;

/*!40101 SET CHARACTER_SET_CLIENT=@OLD_CHARACTER_SET_CLIENT */;
/*!40101 SET CHARACTER_SET_RESULTS=@OLD_CHARACTER_SET_RESULTS */;
/*!40101 SET COLLATION_CONNECTION=@OLD_COLLATION_CONNECTION */;
